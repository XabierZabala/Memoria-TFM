package sia.tfm.dbtester.Launcher;

import java.util.Collection;
import java.util.HashMap;
import java.util.Set;

import sia.tfm.dbtester.ConfigManager.ConfigFile;
import sia.tfm.dbtester.FileManager.FileManager;
import sia.tfm.dbtester.ResultManager.ResultManager;

public class Launcher {

	public static void main(String[] args) {
		
		final String config = "../DBTester/config/config.txt";
		final String result = "../DBTester/result";
		
		if(!FileManager.fileExists(config)){
			errorMessage("El fichero de configuración no existe");
		}else if(!ResultManager.directoriesExists(result)){
			errorMessage("El directorio para almacenar los resultados no existe");
		}else if(!ConfigFile.configFileValidFormat(config)){
			errorMessage("Formato incorrecto del fichero de configuración");
		}else{
			HashMap<String, String> hm = ConfigFile.pairFromConfig(config);
			if(ConfigFile.uniqueKeys(hm)){
				System.out.println("UNICOS");
			}else{
				System.out.println("NO UNICOS");
			}
			//Set<String> a = hm.keySet();
			//Collection<String> a = hm.values();
			/*for(String key: a){
				System.out.println(key);
			}*/
			/*if(!ResultManager.directoriesExists(hm.get("resultFolder"))){
				errorMessage("El directorio para almacenar los resultados no existe");
			}else{
				System.out.println("OK");
			}*/
		}
		
		

	}
	
	/**
	 * Método que imprime en consola el mensaje de error
	 * proporcionado como parámetro y termina el proceso.
	 * @param String Mensaje de error.
	 */
	
	private static void errorMessage(String message){
		System.out.println(message);
		System.exit(0);
	}

}
